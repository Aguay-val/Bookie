<html>
    <head>
        <link rel="stylesheet" href="lib/bookie.css"/>

        <script type="text/javascript" src="lib/hash.js"></script>
        <script type="text/javascript" src="lib/yapi.js"></script>
        <script type="text/javascript" src="lib/yindicator.js"></script>
        <script type="text/javascript" src="lib/ymodel.js"></script>
        <script type="text/javascript" src="lib/ytagcontrol.js"></script>
        <script type="text/javascript" src="lib/ytagcontrol.js"></script>
        <script type="text/javascript" src="chrome.js"></script>
        <style>
            body {
                font-family: sans-serif;
                font-size:10pt;
                padding:3px;
                width:250px;
                height: 250px;
            }
            input, textarea {
                width: 100%;
                margin: 3px 0;
                padding: 5px;
                border: 1px solid #777;
            }
            textarea {
                height: 60px;
                font-family: inherit;
            }
            h1 {
                font-size:12pt;
            }

            #latest_tags { display: none; }

            #suggestions {
                margin: 0;
                padding: 0;
                width: 200px;
                margin-top: 5px;
            }
            #suggestions li {
                display: inline;
                list-style-type: none;
                margin: 0;
                padding: 0;
                margin-right: 2px;
                font-size: 11px;
                line-height: 13px;
            }
            #suggestions a {
                color: #444;
                text-decoration: none;
            }
            #suggestions a:hover {
                text-decoration: underline;
            }
            #errors {
                display:none;
                padding:5px 0;
                text-align:center;
                border:1px solid #aaa;
                background-color:#eee;
                color:#F00;
                font-weight:bold;
                list-style:none;
            }

            #content {
                margin-left: -1000px;
                float: left;
            }
        </style>
    </head>
    <body id="bmarkbody">
        <div>
            <span style="float: right;">
                <a href="" title="" target="_blank" id="bookie_site"><img src="logo.16.png" /></a>
            </span>
            <h1>Post to Bookie</h1>
        </div>
        <form id="form" name="form">
            <input type="hidden" id="url" name="url" />
            <input type="hidden" id="inserted_by" name="inserted_by" />
            <input type="text" id="description" placeholder="title" name="description" />
            <input type="text" placeholder="tags" name="tags" id="tag_filter" />
            <div id="latest_tags">Recent Tags: </div>
            <textarea placeholder="notes" name="extended" id="extended"></textarea>
            <button type="submit" id="submit">Save</button>

            <button type="button" id="delete" style="display: none;">Delete</button>

            <input type="hidden" value="" name="api_key" id="api_key" />
            <textarea name="content" id="content"></textarea>
        </form>
        <ul id="errors">
        </ul>
        <p>&nbsp;</p>

        <script type="text/javascript">
            YUI().use('base', 'bookie-chrome', function (Y) {


                // this could be fed tab info via the url
                // usually in the case of a keyboard shortcut loading this in a
                // new tab vs the icon popup
                var parts = window.location.hash.substring(1).split('|');
                if (parts.length === 2) {
                    var tab_data = {
                        'url': window.atob(parts[0]),
                        'description': window.atob(parts[1])
                    }
                } else {
                    tab_data = undefined;
                }

                var settings = new bookie.Settings();
                var c = new bookie.Chrome({
                    settings: settings,
                    url_data: tab_data
                });
           });
        </script>
    </body>
</html>
